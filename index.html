<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8">
  <title>Inflačný kalkulátor SK</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    label { display: block; margin-top: 10px; }
    input { margin-top: 5px; padding: 5px; width: 200px; }
    .result { margin-top: 5px; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Inflačný kalkulátor Slovensko (1980–2025)</h1>

  <h2>Inštrukcie a Fungovanie:</h2>
  <ul>
    <li>Zadajte počiatočnú sumu a vyberte počiatočný a cieľový rok.</li>
    <li>Ak je počiatočný rok < 2009, suma sa chápe ako slovenské koruny (SKK) a automaticky sa prepočíta na eurá pri konverznom kurze 30.1260.</li>
    <li>Od roku 2009 sa suma chápe ako eurá (EUR) a počíta sa už len v tejto mene.</li>
    <li>Môžete zadať aj "faktor reálnej inflácie" (napr. 1.2 = inflácia vyššia o 20 %), ktorý upraví oficiálne hodnoty podľa vašej skúsenosti alebo odhadu.</li>
  </ul>
  <p id="currency-notice" style="font-weight: bold; color: #444;"></p>

  <label>Počiatočný rok: <input type="number" id="startYear" value="1980" min="1980" max="2025"></label>
  <label>Cieľový rok: <input type="number" id="endYear" value="2024" min="1980" max="2025"></label>
  <label>Suma v Kčs / Sk alebo €: <input type="number" id="amount" value="100"></label>
  <label>Faktor reálnej inflácie (napr. 1.2 = o 20% viac): <input type="number" id="adjustmentFactor" value="1" step="0.01"></label>
  <button onclick="calculate()">Vypočítať</button><BR></BR>

  <div class="result" id="output"></div>
  <div class="result" id="output-multi"></div>

  <h3>Inflacia oficialna:<BR>
	  1980: 1.5%, 1981: 1.6%, 1982: 1.8%, 1983: 2.0%, 1984: 2.3,
	  1985: 2.5%, 1986: 2.8%, 1987: 3.1%, 1988: 3.4%, 1989: 3.7,
	  1990: 9.9%, <BR>1991: 56.6%, 1992: 11.1%, 1993: 25.1%, 1994: 11.62,
	  1995: 7.18%, 1996: 5.53%, 1997: 6.4%, 1998: 5.63%, 1999: 10.6,
	  2000: 8.38%, <BR>2001: 6.37%, 2002: 3.38%, 2003: 9.26%, 2004: 5.93,
	  2005: 3.73%, 2006: 4.18%, 2007: 3.44%, 2008: 4.37%, 2009: 0.54,
	  2010: 1.32%, <BR>2011: 4.43%, 2012: 3.24%, 2013: 0.39%, 2014: -0.1,
	  2015: -0.49%, 2016: 0.17%, 2017: 1.88%, 2018: 1.93%, 2019: 2.98,
	  2020: 1.57%, <BR>2021: 5.82%, 2022: 15.36%, 2023: 10.5%, 2024: 2.8,
	  2025: 4.0<BR><BR>
	  Vypocet pri viacerych faktoroch zohladnuje nasledovne:<BR>
	  1980–2005 → 1.2<BR>
	  2006–2019 → 1.10<BR>
	  2020–2025 → 1.325
  </h3>
<script>
    const inflation = {
      1980: 1.5, 1981: 1.6, 1982: 1.8, 1983: 2.0, 1984: 2.3,
      1985: 2.5, 1986: 2.8, 1987: 3.1, 1988: 3.4, 1989: 3.7,
      1990: 9.9, 1991: 56.6, 1992: 11.1, 1993: 25.1, 1994: 11.62,
      1995: 7.18, 1996: 5.53, 1997: 6.4, 1998: 5.63, 1999: 10.6,
      2000: 8.38, 2001: 6.37, 2002: 3.38, 2003: 9.26, 2004: 5.93,
      2005: 3.73, 2006: 4.18, 2007: 3.44, 2008: 4.37, 2009: 0.54,
      2010: 1.32, 2011: 4.43, 2012: 3.24, 2013: 0.39, 2014: -0.1,
      2015: -0.49, 2016: 0.17, 2017: 1.88, 2018: 1.93, 2019: 2.98,
      2020: 1.57, 2021: 5.82, 2022: 15.36, 2023: 10.5, 2024: 2.8,
      2025: 4.0
    };

    function calculate() {
      const start = parseInt(document.getElementById("startYear").value);
      const end = parseInt(document.getElementById("endYear").value);
      const originalAmount = parseFloat(document.getElementById("amount").value);
      const factor = parseFloat(document.getElementById("adjustmentFactor").value);

      const amount = start < 2009 ? originalAmount / 30.126 : originalAmount;

      let cumulative = 1.0;

      for (let year = start; year <= end; year++) {
        let baseInflation = inflation[year] || 0;
        let adjustedInflation = baseInflation < 0 ? baseInflation : baseInflation * factor;
        cumulative *= 1 + adjustedInflation / 100;
      }

      let result = amount * cumulative;
      // final value is in EUR, no further conversion
      let final = result.toFixed(2) + " €";

      document.getElementById("output").textContent =
        `Reálna hodnota: ${final}`;

      // amount is already adjusted for currency, no additional conversion
      let adjustedAmount = amount;
      calculateByPeriodFactors(start, end, adjustedAmount);
    }

    function getPeriodFactor(year) {
      if (year >= 1980 && year <= 2005) return 1.2;
      if (year >= 2006 && year <= 2019) return 1.10;
      if (year >= 2020 && year <= 2025) return 1.325;
      return 1.0;
    }

    function calculateByPeriodFactors(start, end, amount) {
  // amount is already adjusted for currency
      let result = amount;
  for (let year = start; year <= end; year++) {
    let baseInflation = inflation[year] || 0;
    let adjusted = baseInflation < 0
      ? baseInflation
      : baseInflation * getPeriodFactor(year);
    result *= 1 + (adjusted / 100);
  }

  let final = result.toFixed(2) + " €";

  document.getElementById("output-multi").innerHTML =
        `Reálna hodnota pri viacerých faktoroch:${final}`;
    }

    document.addEventListener("DOMContentLoaded", function () {
      const yearInput = document.getElementById("startYear");
      const currencyNotice = document.getElementById("currency-notice");

      function updateNotice() {
        const year = parseInt(yearInput.value);
        if (year < 2009) {
          currencyNotice.textContent = "Zadaná suma bude chápaná ako SKK a prepočítaná na EUR pri kurze 30.1260.";
        } else {
          currencyNotice.textContent = "Zadaná suma bude chápaná ako EUR.";
        }
      }

      yearInput.addEventListener("input", updateNotice);
      updateNotice();
    });
  </script>
</body>
</html>
